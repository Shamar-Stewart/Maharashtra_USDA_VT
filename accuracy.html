<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 7 Accuracy and Forecast Evaluations | Agricultural Outlook &amp; Forecasting</title>
  <meta name="description" content="Module 7 Accuracy and Forecast Evaluations | Agricultural Outlook &amp; Forecasting" />
  <meta name="generator" content="bookdown 0.35.1 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 7 Accuracy and Forecast Evaluations | Agricultural Outlook &amp; Forecasting" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/cover.png" />
  
  <meta name="github-repo" content="shamar-stewart/shamar-stewart.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 7 Accuracy and Forecast Evaluations | Agricultural Outlook &amp; Forecasting" />
  
  
  <meta name="twitter:image" content="/images/cover.png" />




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="stocks-use.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Agricultural Outlook & Forecasting</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-authors"><i class="fa fa-check"></i>About the Authors</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="public.html"><a href="public.html"><i class="fa fa-check"></i><b>1</b> Public Agricultural Outlook Programs: Structure, Role and Impact</a>
<ul>
<li class="chapter" data-level="" data-path="public.html"><a href="public.html#references"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="outlook.html"><a href="outlook.html"><i class="fa fa-check"></i><b>2</b> Agricultural Outlook Tools and Approaches</a>
<ul>
<li class="chapter" data-level="2.1" data-path="outlook.html"><a href="outlook.html#balance-sheet-approach"><i class="fa fa-check"></i><b>2.1</b> Balance Sheet Approach</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="outlook.html"><a href="outlook.html#balance-sheet"><i class="fa fa-check"></i><b>2.1.1</b> Balance Sheet</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="outlook.html"><a href="outlook.html#exercise"><i class="fa fa-check"></i>Exercise</a></li>
<li class="chapter" data-level="2.2" data-path="outlook.html"><a href="outlook.html#forecast-selection-and-evaluation"><i class="fa fa-check"></i><b>2.2</b> Forecast selection and evaluation</a></li>
<li class="chapter" data-level="2.3" data-path="outlook.html"><a href="outlook.html#references-1"><i class="fa fa-check"></i><b>2.3</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data Manipulation, Visualization, and Basic Forecasting</a>
<ul>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html#optional-materials"><i class="fa fa-check"></i>Optional Materials</a></li>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#nass-quickstats"><i class="fa fa-check"></i><b>3.1</b> NASS QuickStats</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data.html"><a href="data.html#tidyusda-package"><i class="fa fa-check"></i><b>3.1.1</b> <code>tidyUSDA</code> package</a></li>
<li class="chapter" data-level="3.1.2" data-path="data.html"><a href="data.html#api-key"><i class="fa fa-check"></i><b>3.1.2</b> API Key</a></li>
<li class="chapter" data-level="3.1.3" data-path="data.html"><a href="data.html#query"><i class="fa fa-check"></i><b>3.1.3</b> Writing a Query</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#data-manipulation"><i class="fa fa-check"></i><b>3.2</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data.html"><a href="data.html#subseting-filtering"><i class="fa fa-check"></i><b>3.2.1</b> Subseting &amp; Filtering</a></li>
<li class="chapter" data-level="3.2.2" data-path="data.html"><a href="data.html#pipe-operator"><i class="fa fa-check"></i><b>3.2.2</b> Pipe Operator</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#visualizing-time-series-data"><i class="fa fa-check"></i><b>3.3</b> Visualizing Time Series Data</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data.html"><a href="data.html#time-plot"><i class="fa fa-check"></i><b>3.3.1</b> Time plot</a></li>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html#walkthrough-exercise"><i class="fa fa-check"></i>Walkthrough Exercise</a></li>
<li class="chapter" data-level="3.3.2" data-path="data.html"><a href="data.html#viz"><i class="fa fa-check"></i><b>3.3.2</b> Visualizing corn.monthly (further)</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data.html"><a href="data.html#benchmark-forecasting-methods"><i class="fa fa-check"></i><b>3.4</b> Benchmark Forecasting Methods</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data.html"><a href="data.html#mean-method"><i class="fa fa-check"></i><b>3.4.1</b> Mean Method</a></li>
<li class="chapter" data-level="3.4.2" data-path="data.html"><a href="data.html#naïve-method"><i class="fa fa-check"></i><b>3.4.2</b> Naïve Method</a></li>
<li class="chapter" data-level="3.4.3" data-path="data.html"><a href="data.html#seasonal-naïve-method"><i class="fa fa-check"></i><b>3.4.3</b> Seasonal Naïve Method</a></li>
<li class="chapter" data-level="3.4.4" data-path="data.html"><a href="data.html#drift-method"><i class="fa fa-check"></i><b>3.4.4</b> Drift Method</a></li>
<li class="chapter" data-level="3.4.5" data-path="data.html"><a href="data.html#visualing-all-forecasts"><i class="fa fa-check"></i><b>3.4.5</b> Visualing all Forecasts</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html#exercise-1"><i class="fa fa-check"></i>Exercise</a>
<ul>
<li class="chapter" data-level="3.4.6" data-path="data.html"><a href="data.html#exponential-smoothing"><i class="fa fa-check"></i><b>3.4.6</b> Exponential Smoothing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="time-series-patterns.html"><a href="time-series-patterns.html"><i class="fa fa-check"></i><b>4</b> Time Series Patterns</a>
<ul>
<li class="chapter" data-level="4.1" data-path="time-series-patterns.html"><a href="time-series-patterns.html#cold-storage-data---pork"><i class="fa fa-check"></i><b>4.1</b> Cold Storage Data - Pork</a></li>
<li class="chapter" data-level="" data-path="time-series-patterns.html"><a href="time-series-patterns.html#exercise-2"><i class="fa fa-check"></i>Exercise</a></li>
<li class="chapter" data-level="" data-path="time-series-patterns.html"><a href="time-series-patterns.html#annualized-data"><i class="fa fa-check"></i>Annualized data</a></li>
<li class="chapter" data-level="4.2" data-path="time-series-patterns.html"><a href="time-series-patterns.html#moving-averages"><i class="fa fa-check"></i><b>4.2</b> Moving Averages</a></li>
<li class="chapter" data-level="" data-path="time-series-patterns.html"><a href="time-series-patterns.html#model-deviation-error"><i class="fa fa-check"></i>Model Deviation (Error)</a></li>
<li class="chapter" data-level="" data-path="time-series-patterns.html"><a href="time-series-patterns.html#final-words-moving-averages"><i class="fa fa-check"></i>Final Words: Moving Averages</a></li>
<li class="chapter" data-level="4.3" data-path="time-series-patterns.html"><a href="time-series-patterns.html#simple-exponential-smoothing-again"><i class="fa fa-check"></i><b>4.3</b> Simple Exponential Smoothing (Again)</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="time-series-patterns.html"><a href="time-series-patterns.html#exponential-smoothing-adjusted-for-trend"><i class="fa fa-check"></i><b>4.3.1</b> Exponential Smoothing Adjusted for Trend</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="time-series-patterns.html"><a href="time-series-patterns.html#exponential-smoothing-adjusted-for-trend-seasonality"><i class="fa fa-check"></i><b>4.4</b> Exponential Smoothing Adjusted for Trend &amp; Seasonality</a></li>
<li class="chapter" data-level="4.5" data-path="time-series-patterns.html"><a href="time-series-patterns.html#time-series-regression-analysis"><i class="fa fa-check"></i><b>4.5</b> Time Series Regression Analysis</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="time-series-patterns.html"><a href="time-series-patterns.html#accounting-for-linear-trends"><i class="fa fa-check"></i><b>4.5.1</b> Accounting for (Linear) Trends</a></li>
<li class="chapter" data-level="4.5.2" data-path="time-series-patterns.html"><a href="time-series-patterns.html#accounting-for-seasonality"><i class="fa fa-check"></i><b>4.5.2</b> Accounting for Seasonality</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="time-series-patterns.html"><a href="time-series-patterns.html#accounting-for-seasonality-and-trend"><i class="fa fa-check"></i><b>4.6</b> Accounting for Seasonality and Trend</a></li>
<li class="chapter" data-level="4.7" data-path="time-series-patterns.html"><a href="time-series-patterns.html#visualizing-the-model-fits"><i class="fa fa-check"></i><b>4.7</b> Visualizing the model fits</a></li>
<li class="chapter" data-level="4.8" data-path="time-series-patterns.html"><a href="time-series-patterns.html#autoregressive-models"><i class="fa fa-check"></i><b>4.8</b> Autoregressive Models</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="time-series-patterns.html"><a href="time-series-patterns.html#ar1-model"><i class="fa fa-check"></i><b>4.8.1</b> AR(1) model</a></li>
<li class="chapter" data-level="" data-path="time-series-patterns.html"><a href="time-series-patterns.html#visualizing-the-ar1-model-fit"><i class="fa fa-check"></i>Visualizing the AR(1) model fit</a></li>
<li class="chapter" data-level="4.8.2" data-path="time-series-patterns.html"><a href="time-series-patterns.html#arp-model"><i class="fa fa-check"></i><b>4.8.2</b> AR(p) model</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="time-series-patterns.html"><a href="time-series-patterns.html#exercise-3"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html"><i class="fa fa-check"></i><b>5</b> Balance Sheet Forecasting</a>
<ul>
<li class="chapter" data-level="5.1" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#supply-forecasts"><i class="fa fa-check"></i><b>5.1</b> Supply Forecasts</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#production"><i class="fa fa-check"></i><b>5.1.1</b> Production</a></li>
<li class="chapter" data-level="5.1.2" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#activity-i-forecasting-corn-production"><i class="fa fa-check"></i><b>5.1.2</b> Activity I: Forecasting Corn Production</a></li>
<li class="chapter" data-level="5.1.3" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#other-supply-components"><i class="fa fa-check"></i><b>5.1.3</b> Other Supply Components</a></li>
<li class="chapter" data-level="5.1.4" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#activity-ii"><i class="fa fa-check"></i><b>5.1.4</b> Activity II</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#utilization-forecasts"><i class="fa fa-check"></i><b>5.2</b> Utilization forecasts</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#top-down-approach.-general-components"><i class="fa fa-check"></i><b>5.2.1</b> Top-down approach. General components</a></li>
<li class="chapter" data-level="5.2.2" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#activity-iii"><i class="fa fa-check"></i><b>5.2.2</b> Activity III</a></li>
<li class="chapter" data-level="5.2.3" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#top-down-approach.-specific-components"><i class="fa fa-check"></i><b>5.2.3</b> Top-down approach. Specific components</a></li>
<li class="chapter" data-level="" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#activity-iv"><i class="fa fa-check"></i>Activity IV</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#alternative-approaches"><i class="fa fa-check"></i><b>5.3</b> Alternative Approaches</a>
<ul>
<li class="chapter" data-level="" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#bottom-up-approach"><i class="fa fa-check"></i>Bottom-up approach</a></li>
<li class="chapter" data-level="" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#similaryear-approach"><i class="fa fa-check"></i>Similar–year approach</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#forecast-adjustments-during-the-marketing-year-pace-of-use-pou."><i class="fa fa-check"></i><b>5.4</b> Forecast adjustments during the marketing year: Pace of Use (POU).</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#exports"><i class="fa fa-check"></i><b>5.4.1</b> Exports</a></li>
<li class="chapter" data-level="5.4.2" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#activity-v"><i class="fa fa-check"></i><b>5.4.2</b> Activity V</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#food-seed-and-industrial-fsi"><i class="fa fa-check"></i><b>5.5</b> Food, Seed, and Industrial (FSI)</a></li>
<li class="chapter" data-level="5.6" data-path="balance-sheet-forecasting.html"><a href="balance-sheet-forecasting.html#grain-stocks-and-quarterly-use-dynamics."><i class="fa fa-check"></i><b>5.6</b> Grain Stocks and quarterly use dynamics.</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="stocks-use.html"><a href="stocks-use.html"><i class="fa fa-check"></i><b>6</b> Forecasting Prices Using Stocks-to-Use Ratios</a>
<ul>
<li class="chapter" data-level="6.1" data-path="stocks-use.html"><a href="stocks-use.html#stocks-to-use-based-forecasting-a-replication"><i class="fa fa-check"></i><b>6.1</b> Stocks-to-Use Based Forecasting: A Replication</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="stocks-use.html"><a href="stocks-use.html#download-data"><i class="fa fa-check"></i><b>6.1.1</b> Download our data for corn</a></li>
<li class="chapter" data-level="6.1.2" data-path="stocks-use.html"><a href="stocks-use.html#clean-data"><i class="fa fa-check"></i><b>6.1.2</b> Clean Data</a></li>
<li class="chapter" data-level="6.1.3" data-path="stocks-use.html"><a href="stocks-use.html#sub-period-1-1990-2005"><i class="fa fa-check"></i><b>6.1.3</b> Sub Period 1: 1990-2005</a></li>
<li class="chapter" data-level="6.1.4" data-path="stocks-use.html"><a href="stocks-use.html#sub-period-2-2007---201516"><i class="fa fa-check"></i><b>6.1.4</b> Sub Period 2: 2007 - 2015/16</a></li>
<li class="chapter" data-level="6.1.5" data-path="stocks-use.html"><a href="stocks-use.html#producing-figure-1"><i class="fa fa-check"></i><b>6.1.5</b> Producing Figure 1</a></li>
<li class="chapter" data-level="6.1.6" data-path="stocks-use.html"><a href="stocks-use.html#market-condition-dummies"><i class="fa fa-check"></i><b>6.1.6</b> Market Condition Dummies</a></li>
<li class="chapter" data-level="6.1.7" data-path="stocks-use.html"><a href="stocks-use.html#forecast-price-for-2021"><i class="fa fa-check"></i><b>6.1.7</b> Forecast Price for 2021</a></li>
<li class="chapter" data-level="" data-path="stocks-use.html"><a href="stocks-use.html#alternative-approach"><i class="fa fa-check"></i>Alternative Approach</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="stocks-use.html"><a href="stocks-use.html#optional-materials-1"><i class="fa fa-check"></i><b>6.2</b> Optional Materials</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="accuracy.html"><a href="accuracy.html"><i class="fa fa-check"></i><b>7</b> Accuracy and Forecast Evaluations</a>
<ul>
<li class="chapter" data-level="7.1" data-path="accuracy.html"><a href="accuracy.html#corn-data-revisited"><i class="fa fa-check"></i><b>7.1</b> Corn Data (Revisited)</a></li>
<li class="chapter" data-level="7.2" data-path="accuracy.html"><a href="accuracy.html#exploring-the-forecasting-models-in-sample"><i class="fa fa-check"></i><b>7.2</b> Exploring the Forecasting models In-sample</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="accuracy.html"><a href="accuracy.html#method-1-linear-trend"><i class="fa fa-check"></i><b>7.2.1</b> Method 1: Linear Trend</a></li>
<li class="chapter" data-level="7.2.2" data-path="accuracy.html"><a href="accuracy.html#method-2-naive-model-with-drift"><i class="fa fa-check"></i><b>7.2.2</b> Method 2: Naive Model (with drift)</a></li>
<li class="chapter" data-level="7.2.3" data-path="accuracy.html"><a href="accuracy.html#method-3-using-stocks-to-use-approach"><i class="fa fa-check"></i><b>7.2.3</b> Method 3: Using Stocks-to-Use Approach</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="accuracy.html"><a href="accuracy.html#out-of-sample-forecasts"><i class="fa fa-check"></i><b>7.3</b> Out-of-sample forecasts</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="accuracy.html"><a href="accuracy.html#method-1-trend"><i class="fa fa-check"></i><b>7.3.1</b> Method 1: Trend</a></li>
<li class="chapter" data-level="7.3.2" data-path="accuracy.html"><a href="accuracy.html#method-2-random-walk-drfit-model"><i class="fa fa-check"></i><b>7.3.2</b> Method 2: Random Walk + Drfit Model</a></li>
<li class="chapter" data-level="7.3.3" data-path="accuracy.html"><a href="accuracy.html#method-3-stocks-to-use-approach"><i class="fa fa-check"></i><b>7.3.3</b> Method 3: Stocks-to-Use Approach</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="accuracy.html"><a href="accuracy.html#model-evaluation"><i class="fa fa-check"></i><b>7.4</b> Model Evaluation</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Agricultural Outlook &amp; Forecasting</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="accuracy" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Module 7</span> Accuracy and Forecast Evaluations<a href="accuracy.html#accuracy" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In the preceding Modules, we focused much of our attention on exploring various forecasting models. We quickly saw that some models did a better job of fitting and predicting our data than others. To this point, our determination of the “best” models was entirely based on eyeballing the “goodness of fit” of the actual vs the forecasted data series.</p>
<p>In this module, we shift our focus to formally assessing our model’s forecasting performances. We will return to the Annual Corn Price series from earlier and <em>statistically</em> determine the most accurate forecasting model, both in- and out-of-sample.</p>
<div id="corn-data-revisited" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Corn Data (Revisited)<a href="accuracy.html#corn-data-revisited" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As we did in Module <a href="stocks-use.html#stocks-use">6</a>, we can again read in the dataset with the Ending Stocks/Use. We leave it as practice for interested reader to duplicate the codes and manipulations in Sections <a href="stocks-use.html#download-data">6.1.1</a> and <a href="stocks-use.html#clean-data">6.1.2</a>.</p>
<p>For the purpose of the exercise, we will drop the observations for 2021. To refamiliarize ourselves with the data:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="accuracy.html#cb165-1" tabindex="-1"></a>su.data2 <span class="ot">&lt;-</span> su.data <span class="sc">%&gt;%</span> <span class="fu">filter_index</span>(.<span class="sc">~</span><span class="dv">2020</span>)</span>
<span id="cb165-2"><a href="accuracy.html#cb165-2" tabindex="-1"></a>su.data2 <span class="sc">%&gt;%</span> </span>
<span id="cb165-3"><a href="accuracy.html#cb165-3" tabindex="-1"></a>  <span class="fu">autoplot</span>(price, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">size =</span> <span class="fl">1.15</span>) <span class="sc">+</span></span>
<span id="cb165-4"><a href="accuracy.html#cb165-4" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb165-5"><a href="accuracy.html#cb165-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Time Plot of Corn Prices&quot;</span>,</span>
<span id="cb165-6"><a href="accuracy.html#cb165-6" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;$/bu&quot;</span>,</span>
<span id="cb165-7"><a href="accuracy.html#cb165-7" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Year&quot;</span>) <span class="sc">+</span></span>
<span id="cb165-8"><a href="accuracy.html#cb165-8" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/sutimeplot-1.png" width="672" />
From the plot, the price series appears to be increasing over time. From this pattern, a trend model could conceivably be a viable candidate for our forecasting.</p>
</div>
<div id="exploring-the-forecasting-models-in-sample" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Exploring the Forecasting models In-sample<a href="accuracy.html#exploring-the-forecasting-models-in-sample" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To begin, we will subset our data into a <code>training</code> and <code>test</code> period. The <code>test</code> period will serve as our data validation window. That is, we will use it to understand how well our model performs “out of sample”.</p>
<p>We will use the last 5 years of data as the <code>test</code> period.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="accuracy.html#cb166-1" tabindex="-1"></a><span class="co"># Create the training set</span></span>
<span id="cb166-2"><a href="accuracy.html#cb166-2" tabindex="-1"></a>train <span class="ot">&lt;-</span> su.data2 <span class="sc">%&gt;%</span> <span class="fu">filter_index</span>(.<span class="sc">~</span><span class="dv">2015</span>)</span>
<span id="cb166-3"><a href="accuracy.html#cb166-3" tabindex="-1"></a>train <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tsibble: 6 x 4 [1Y]
##    Year     su price  ratio
##   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1  1990 0.196   2.28 0.0511
## 2  1991 0.139   2.37 0.0720
## 3  1992 0.249   2.07 0.0402
## 4  1993 0.112   2.5  0.0896
## 5  1994 0.166   2.26 0.0603
## 6  1995 0.0500  3.24 0.200</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="accuracy.html#cb168-1" tabindex="-1"></a><span class="co"># Reserve the last 5 years for the test set</span></span>
<span id="cb168-2"><a href="accuracy.html#cb168-2" tabindex="-1"></a></span>
<span id="cb168-3"><a href="accuracy.html#cb168-3" tabindex="-1"></a>test <span class="ot">&lt;-</span> su.data2 <span class="sc">%&gt;%</span> <span class="fu">filter_index</span>(<span class="dv">2016</span><span class="sc">~</span>.)</span>
<span id="cb168-4"><a href="accuracy.html#cb168-4" tabindex="-1"></a>test <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tsibble: 5 x 4 [1Y]
##    Year     su price  ratio
##   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1  2016 0.157   3.36 0.0639
## 2  2017 0.145   3.36 0.0691
## 3  2018 0.155   3.61 0.0643
## 4  2019 0.137   3.56 0.0728
## 5  2020 0.0744  4.4  0.134</code></pre>
<div id="method-1-linear-trend" class="section level3 hasAnchor" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Method 1: Linear Trend<a href="accuracy.html#method-1-linear-trend" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let us first explore the forecasting method using a simple trend. Recall that we can achieve this using a time series linear model (OLS) and the <code>TSLM</code> function.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="accuracy.html#cb170-1" tabindex="-1"></a>mod1.trend <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span> <span class="fu">model</span>(<span class="at">trend =</span> <span class="fu">TSLM</span>(price <span class="sc">~</span> <span class="fu">trend</span>()))</span>
<span id="cb170-2"><a href="accuracy.html#cb170-2" tabindex="-1"></a>mod1.trend <span class="sc">%&gt;%</span> <span class="fu">report</span>()</span></code></pre></div>
<pre><code>## Series: price 
## Model: TSLM 
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -1.42357 -0.79770  0.02143  0.53242  2.62181 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  1.49302    0.41302   3.615 0.001385 ** 
## trend()      0.12066    0.02674   4.512 0.000144 ***
## ---
## Signif. codes:  
## 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1.023 on 24 degrees of freedom
## Multiple R-squared: 0.4589,  Adjusted R-squared: 0.4364
## F-statistic: 20.36 on 1 and 24 DF, p-value: 0.00014377</code></pre>
<p>From the regression results, the linear trend appears to be statistically significant in explaining the observed prices. At this point, it would also prove useful to produce the plot of the fitted and actual values.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="accuracy.html#cb172-1" tabindex="-1"></a> mod1.trend <span class="sc">%&gt;%</span> <span class="fu">augment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb172-2"><a href="accuracy.html#cb172-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> price, <span class="at">x =</span> Year,</span>
<span id="cb172-3"><a href="accuracy.html#cb172-3" tabindex="-1"></a>             <span class="at">colour =</span> <span class="st">&quot;blue&quot;</span>)) <span class="sc">+</span></span>
<span id="cb172-4"><a href="accuracy.html#cb172-4" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb172-5"><a href="accuracy.html#cb172-5" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb172-6"><a href="accuracy.html#cb172-6" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> .fitted,</span>
<span id="cb172-7"><a href="accuracy.html#cb172-7" tabindex="-1"></a>                <span class="at">colour =</span> <span class="st">&quot;Trend&quot;</span>),</span>
<span id="cb172-8"><a href="accuracy.html#cb172-8" tabindex="-1"></a>                <span class="at">size =</span> <span class="fl">1.2</span>,</span>
<span id="cb172-9"><a href="accuracy.html#cb172-9" tabindex="-1"></a>                <span class="at">lty =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb172-10"><a href="accuracy.html#cb172-10" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Trend Model Fit&quot;</span>,</span>
<span id="cb172-11"><a href="accuracy.html#cb172-11" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;In-Sample&quot;</span>) <span class="sc">+</span></span>
<span id="cb172-12"><a href="accuracy.html#cb172-12" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-105-1.png" width="672" /></p>
</div>
<div id="method-2-naive-model-with-drift" class="section level3 hasAnchor" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Method 2: Naive Model (with drift)<a href="accuracy.html#method-2-naive-model-with-drift" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let us assume that we have no idea of where the prices might go next. Under that condition, we could explore a <strong>naive</strong> forecasting approach. Additionally, since we noticed a pronounced trend in the series, we will account for that by including a <strong>drift</strong> term.</p>
<p>We will use the code chunks below to accomplish this.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="accuracy.html#cb173-1" tabindex="-1"></a>mod2.drift <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span> </span>
<span id="cb173-2"><a href="accuracy.html#cb173-2" tabindex="-1"></a>  <span class="fu">model</span>(<span class="at">drift =</span> <span class="fu">RW</span>(price <span class="sc">~</span> <span class="fu">drift</span>()))</span></code></pre></div>
<p>Here is a plot of the in sample fit.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="accuracy.html#cb174-1" tabindex="-1"></a> mod2.drift <span class="sc">%&gt;%</span> <span class="fu">augment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb174-2"><a href="accuracy.html#cb174-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> price, <span class="at">x =</span> Year,</span>
<span id="cb174-3"><a href="accuracy.html#cb174-3" tabindex="-1"></a>             <span class="at">colour =</span> <span class="st">&quot;blue&quot;</span>)) <span class="sc">+</span></span>
<span id="cb174-4"><a href="accuracy.html#cb174-4" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb174-5"><a href="accuracy.html#cb174-5" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb174-6"><a href="accuracy.html#cb174-6" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> .fitted,</span>
<span id="cb174-7"><a href="accuracy.html#cb174-7" tabindex="-1"></a>                <span class="at">colour =</span> <span class="st">&quot;Trend&quot;</span>),</span>
<span id="cb174-8"><a href="accuracy.html#cb174-8" tabindex="-1"></a>                <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb174-9"><a href="accuracy.html#cb174-9" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;RW + Drift Model Fit&quot;</span>,</span>
<span id="cb174-10"><a href="accuracy.html#cb174-10" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;In-Sample&quot;</span>) <span class="sc">+</span></span>
<span id="cb174-11"><a href="accuracy.html#cb174-11" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 1 row containing missing values
## (`geom_line()`).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-107-1.png" width="672" /></p>
</div>
<div id="method-3-using-stocks-to-use-approach" class="section level3 hasAnchor" number="7.2.3">
<h3><span class="header-section-number">7.2.3</span> Method 3: Using Stocks-to-Use Approach<a href="accuracy.html#method-3-using-stocks-to-use-approach" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the last module, we explored the concept of accounting for structural breaks in the data. In particular, we split the data into different regimes and forecasted prices accordingly. We will utilize the same approach and use OLS regressions to help in the forecasting process.</p>
<p>Our first step requires that we create market conditions dummy variables. The process is detailed in Module 6.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="accuracy.html#cb176-1" tabindex="-1"></a>weak <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2009</span>, <span class="dv">2014</span><span class="sc">:</span><span class="dv">2015</span>)</span>
<span id="cb176-2"><a href="accuracy.html#cb176-2" tabindex="-1"></a>mod2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2007</span><span class="sc">:</span><span class="dv">2008</span>, <span class="dv">2013</span>)</span>
<span id="cb176-3"><a href="accuracy.html#cb176-3" tabindex="-1"></a>mod1 <span class="ot">&lt;-</span> <span class="dv">2010</span></span>
<span id="cb176-4"><a href="accuracy.html#cb176-4" tabindex="-1"></a>strong <span class="ot">&lt;-</span> <span class="dv">2011</span><span class="sc">:</span><span class="dv">2012</span></span>
<span id="cb176-5"><a href="accuracy.html#cb176-5" tabindex="-1"></a></span>
<span id="cb176-6"><a href="accuracy.html#cb176-6" tabindex="-1"></a><span class="co">#Drop 2006, and all years after 2015.</span></span>
<span id="cb176-7"><a href="accuracy.html#cb176-7" tabindex="-1"></a>subdata <span class="ot">&lt;-</span> su.data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">%in%</span> </span>
<span id="cb176-8"><a href="accuracy.html#cb176-8" tabindex="-1"></a>                                <span class="fu">c</span>(<span class="dv">1990</span><span class="sc">:</span><span class="dv">2005</span>, <span class="dv">2007</span><span class="sc">:</span><span class="dv">2015</span>)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">weak =</span> <span class="fu">ifelse</span>(Year <span class="sc">%in%</span> weak, <span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb176-9"><a href="accuracy.html#cb176-9" tabindex="-1"></a>         <span class="at">mod2 =</span> <span class="fu">ifelse</span>(Year <span class="sc">%in%</span> mod2, <span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb176-10"><a href="accuracy.html#cb176-10" tabindex="-1"></a>         <span class="at">mod1 =</span> <span class="fu">ifelse</span>(Year <span class="sc">%in%</span> mod1, <span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb176-11"><a href="accuracy.html#cb176-11" tabindex="-1"></a>         <span class="at">strong =</span> <span class="fu">ifelse</span>(Year <span class="sc">%in%</span> strong, <span class="dv">1</span>,<span class="dv">0</span>))</span>
<span id="cb176-12"><a href="accuracy.html#cb176-12" tabindex="-1"></a>subdata <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tsibble: 6 x 8 [1Y]
##    Year     su price  ratio  weak  mod2  mod1 strong
##   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1  1990 0.196   2.28 0.0511     0     0     0      0
## 2  1991 0.139   2.37 0.0720     0     0     0      0
## 3  1992 0.249   2.07 0.0402     0     0     0      0
## 4  1993 0.112   2.5  0.0896     0     0     0      0
## 5  1994 0.166   2.26 0.0603     0     0     0      0
## 6  1995 0.0500  3.24 0.200      0     0     0      0</code></pre>
<p>Now to perform the relevant regressions:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="accuracy.html#cb178-1" tabindex="-1"></a>mod3.stock <span class="ot">&lt;-</span> subdata <span class="sc">%&gt;%</span> <span class="fu">model</span>(</span>
<span id="cb178-2"><a href="accuracy.html#cb178-2" tabindex="-1"></a>  <span class="fu">TSLM</span>(price <span class="sc">~</span> ratio <span class="sc">+</span> weak <span class="sc">+</span> mod2 <span class="sc">+</span> mod1 <span class="sc">+</span> strong)</span>
<span id="cb178-3"><a href="accuracy.html#cb178-3" tabindex="-1"></a>)</span>
<span id="cb178-4"><a href="accuracy.html#cb178-4" tabindex="-1"></a>mod3.stock <span class="sc">%&gt;%</span> <span class="fu">report</span>()</span></code></pre></div>
<pre><code>## Series: price 
## Model: TSLM 
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -0.2994 -0.1125  0.0000  0.1118  0.2994 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  1.62417    0.09947   16.33 1.23e-12 ***
## ratio        8.52790    1.18120    7.22 7.43e-07 ***
## weak         1.32899    0.11305   11.76 3.66e-10 ***
## mod2         1.89273    0.11366   16.65 8.64e-13 ***
## mod1         2.56885    0.19122   13.43 3.77e-11 ***
## strong       3.81502    0.14990   25.45 3.83e-16 ***
## ---
## Signif. codes:  
## 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.1796 on 19 degrees of freedom
## Multiple R-squared: 0.9868,  Adjusted R-squared: 0.9833
## F-statistic: 283.9 on 5 and 19 DF, p-value: &lt; 2.22e-16</code></pre>
<p>Likewise, we can produce a plot of the actual and fitted values from the <code>mod3.stock</code> regression above</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="accuracy.html#cb180-1" tabindex="-1"></a>mod3.stock <span class="sc">%&gt;%</span> <span class="fu">augment</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb180-2"><a href="accuracy.html#cb180-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> price,</span>
<span id="cb180-3"><a href="accuracy.html#cb180-3" tabindex="-1"></a>                       <span class="at">colour =</span> <span class="st">&quot;Actual&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb180-4"><a href="accuracy.html#cb180-4" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb180-5"><a href="accuracy.html#cb180-5" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb180-6"><a href="accuracy.html#cb180-6" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> .fitted,</span>
<span id="cb180-7"><a href="accuracy.html#cb180-7" tabindex="-1"></a>                <span class="at">colour =</span> <span class="st">&quot;Stocks/Use&quot;</span>),</span>
<span id="cb180-8"><a href="accuracy.html#cb180-8" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb180-9"><a href="accuracy.html#cb180-9" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Stocks-to-Use Model Fit&quot;</span>,</span>
<span id="cb180-10"><a href="accuracy.html#cb180-10" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;In-Sample&quot;</span>) <span class="sc">+</span></span>
<span id="cb180-11"><a href="accuracy.html#cb180-11" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-110-1.png" width="672" /></p>
</div>
</div>
<div id="out-of-sample-forecasts" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Out-of-sample forecasts<a href="accuracy.html#out-of-sample-forecasts" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Looking at the in-sample fits of each of the three graphs above, one could conclude that the Stocks-to-Use model fits the training data best. We will set aside that debate for now and focus instead on the out-of-sample predictions on each model. Recall that our out of sample predictions will be for the 5 years (2016–2020) we held out earlier.</p>
<div id="method-1-trend" class="section level3 hasAnchor" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Method 1: Trend<a href="accuracy.html#method-1-trend" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can use the <code>forecast</code> option with the appropriate horizon (<code>h = 5</code>).</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="accuracy.html#cb181-1" tabindex="-1"></a>f.mod1 <span class="ot">&lt;-</span> mod1.trend <span class="sc">%&gt;%</span> <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">5</span>)</span>
<span id="cb181-2"><a href="accuracy.html#cb181-2" tabindex="-1"></a>f.mod1</span></code></pre></div>
<pre><code>## # A fable: 5 x 4 [1Y]
## # Key:     .model [1]
##   .model  Year       price .mean
##   &lt;chr&gt;  &lt;dbl&gt;      &lt;dist&gt; &lt;dbl&gt;
## 1 trend   2016 N(4.8, 1.2)  4.75
## 2 trend   2017 N(4.9, 1.2)  4.87
## 3 trend   2018   N(5, 1.3)  4.99
## 4 trend   2019 N(5.1, 1.3)  5.11
## 5 trend   2020 N(5.2, 1.3)  5.23</code></pre>
<p>In turn, the plot would be as follows:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="accuracy.html#cb183-1" tabindex="-1"></a>f.mod1 <span class="sc">%&gt;%</span> <span class="fu">autoplot</span>(train, <span class="at">level =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb183-2"><a href="accuracy.html#cb183-2" tabindex="-1"></a>  <span class="fu">autolayer</span>(test,price, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb183-3"><a href="accuracy.html#cb183-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Linear Trend Model Forecast&quot;</span>) <span class="sc">+</span></span>
<span id="cb183-4"><a href="accuracy.html#cb183-4" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-112-1.png" width="672" />
The red line (actual values held out) are always lower than the forecasts of this model. Here, the trend model has a tendency to over predict the true values.</p>
</div>
<div id="method-2-random-walk-drfit-model" class="section level3 hasAnchor" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Method 2: Random Walk + Drfit Model<a href="accuracy.html#method-2-random-walk-drfit-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can generate and display the forecasted values (from the <code>RW</code> function) for the 5 periods of interest.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="accuracy.html#cb184-1" tabindex="-1"></a>f.mod2 <span class="ot">&lt;-</span> mod2.drift <span class="sc">%&gt;%</span> <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">5</span>)</span>
<span id="cb184-2"><a href="accuracy.html#cb184-2" tabindex="-1"></a>f.mod2</span></code></pre></div>
<pre><code>## # A fable: 5 x 4 [1Y]
## # Key:     .model [1]
##   .model  Year        price .mean
##   &lt;chr&gt;  &lt;dbl&gt;       &lt;dist&gt; &lt;dbl&gt;
## 1 drift   2016 N(3.7, 0.67)  3.66
## 2 drift   2017  N(3.7, 1.4)  3.72
## 3 drift   2018  N(3.8, 2.2)  3.77
## 4 drift   2019    N(3.8, 3)  3.82
## 5 drift   2020  N(3.9, 3.9)  3.88</code></pre>
<p>Plotting the results we have:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="accuracy.html#cb186-1" tabindex="-1"></a>f.mod2 <span class="sc">%&gt;%</span> <span class="fu">autoplot</span>(train, <span class="at">level =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb186-2"><a href="accuracy.html#cb186-2" tabindex="-1"></a>  <span class="fu">autolayer</span>(test,price, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb186-3"><a href="accuracy.html#cb186-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Random Walk with Drift Forecast&quot;</span>) <span class="sc">+</span></span>
<span id="cb186-4"><a href="accuracy.html#cb186-4" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-114-1.png" width="672" /></p>
<p>In the earlier years, the random walk model with drift tends to over predict. Towards the latter years however, the trend is not step enough and therefore lags the true value (is under predicted).</p>
</div>
<div id="method-3-stocks-to-use-approach" class="section level3 hasAnchor" number="7.3.3">
<h3><span class="header-section-number">7.3.3</span> Method 3: Stocks-to-Use Approach<a href="accuracy.html#method-3-stocks-to-use-approach" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The forecast for this approach is slightly more involved but not complicated. As we did in Module <a href="stocks-use.html#stocks-use">6</a>, we will assign all years in the test set (the 5 years out-of-sample) to a single regime (i.e. all to weak, or moderate2, etc.).</p>
<p>Also, to help with your forecasting, we will assume that we have the gift of perfect foresight relating to the stocks-to-use ratio (<code>ratio</code>). Our task therefore, is simply to use this method to forecast prices.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="accuracy.html#cb187-1" tabindex="-1"></a>scenarios5 <span class="ot">&lt;-</span> <span class="fu">scenarios</span>(</span>
<span id="cb187-2"><a href="accuracy.html#cb187-2" tabindex="-1"></a>  <span class="at">weak =</span> <span class="fu">new_data</span>(train,<span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb187-3"><a href="accuracy.html#cb187-3" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">ratio =</span> test[[<span class="st">&quot;ratio&quot;</span>]], <span class="at">weak =</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">5</span>),</span>
<span id="cb187-4"><a href="accuracy.html#cb187-4" tabindex="-1"></a>           <span class="at">mod2 =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>), <span class="at">mod1 =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>), </span>
<span id="cb187-5"><a href="accuracy.html#cb187-5" tabindex="-1"></a>           <span class="at">strong =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>)),</span>
<span id="cb187-6"><a href="accuracy.html#cb187-6" tabindex="-1"></a>  <span class="at">moderate2 =</span> <span class="fu">new_data</span>(train,<span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb187-7"><a href="accuracy.html#cb187-7" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">ratio =</span> test[[<span class="st">&quot;ratio&quot;</span>]], <span class="at">weak =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>),</span>
<span id="cb187-8"><a href="accuracy.html#cb187-8" tabindex="-1"></a>           <span class="at">mod2 =</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">5</span>), <span class="at">mod1 =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>), </span>
<span id="cb187-9"><a href="accuracy.html#cb187-9" tabindex="-1"></a>           <span class="at">strong =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>)),</span>
<span id="cb187-10"><a href="accuracy.html#cb187-10" tabindex="-1"></a>  <span class="at">moderate1 =</span> <span class="fu">new_data</span>(train,<span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb187-11"><a href="accuracy.html#cb187-11" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">ratio =</span> test[[<span class="st">&quot;ratio&quot;</span>]], <span class="at">weak =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>),</span>
<span id="cb187-12"><a href="accuracy.html#cb187-12" tabindex="-1"></a>           <span class="at">mod2 =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>), <span class="at">mod1 =</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">5</span>),</span>
<span id="cb187-13"><a href="accuracy.html#cb187-13" tabindex="-1"></a>           <span class="at">strong =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>)),</span>
<span id="cb187-14"><a href="accuracy.html#cb187-14" tabindex="-1"></a>  <span class="at">strong =</span> <span class="fu">new_data</span>(train,<span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb187-15"><a href="accuracy.html#cb187-15" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">ratio =</span> test[[<span class="st">&quot;ratio&quot;</span>]], <span class="at">weak =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>),</span>
<span id="cb187-16"><a href="accuracy.html#cb187-16" tabindex="-1"></a>           <span class="at">mod2 =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>), <span class="at">mod1 =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>),</span>
<span id="cb187-17"><a href="accuracy.html#cb187-17" tabindex="-1"></a>           <span class="at">strong =</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">5</span>)),</span>
<span id="cb187-18"><a href="accuracy.html#cb187-18" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="st">&quot;Scenario&quot;</span></span>
<span id="cb187-19"><a href="accuracy.html#cb187-19" tabindex="-1"></a>)</span>
<span id="cb187-20"><a href="accuracy.html#cb187-20" tabindex="-1"></a>forecast5 <span class="ot">&lt;-</span> mod3.stock <span class="sc">%&gt;%</span> </span>
<span id="cb187-21"><a href="accuracy.html#cb187-21" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">new_data =</span> scenarios5)</span>
<span id="cb187-22"><a href="accuracy.html#cb187-22" tabindex="-1"></a></span>
<span id="cb187-23"><a href="accuracy.html#cb187-23" tabindex="-1"></a>train <span class="sc">%&gt;%</span> <span class="fu">autoplot</span>(price, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb187-24"><a href="accuracy.html#cb187-24" tabindex="-1"></a>  <span class="fu">autolayer</span>(forecast5, <span class="at">size =</span> <span class="fl">1.2</span>, </span>
<span id="cb187-25"><a href="accuracy.html#cb187-25" tabindex="-1"></a>            <span class="at">level =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb187-26"><a href="accuracy.html#cb187-26" tabindex="-1"></a>  <span class="fu">autolayer</span>(test, price, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb187-27"><a href="accuracy.html#cb187-27" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span> </span>
<span id="cb187-28"><a href="accuracy.html#cb187-28" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Scenario Price Forecasts for Next 5 years&quot;</span>) <span class="sc">+</span></span>
<span id="cb187-29"><a href="accuracy.html#cb187-29" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-115-1.png" width="672" /></p>
<p>The plot reveals that the weak regime more closely mirrors the prices observed in the last 5 years of the sample. Caution should be taken with interpreting these results as we used the observed (true) values for the reciprocal of the stocks-to-use ratio, <span class="math inline">\(\frac{1}{x}\)</span>, for those years in our forecasts.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> In actuality, we would have to forecast those as well, or use expert judgement to come up with future values.</p>
</div>
</div>
<div id="model-evaluation" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Model Evaluation<a href="accuracy.html#model-evaluation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that we have the three competing models, we need a more formal way of determining the “best” model. There are several such statistical tests but we will focus on 3 in particular.</p>
<p>Before we do, it is worth defining the prediction error. The prediction error is:</p>
<p><span class="math display">\[e_t = (p_t - f_t)\]</span></p>
<p>Where <span class="math inline">\(p_t\)</span> is the actual price and <span class="math inline">\(f_t\)</span> is the forecast we made from each of the three methods above.</p>
<p>We will next compute the Root Mean Squared Error (RMSE), Mean percentage error (MPE), and Mean Absolute Percentage Error (MAPE) as follows:</p>
<p><span class="math display">\[ RMSE = \sqrt{\frac{1}{5} \sum_{t = 2016}^{2020}(e_t^2)}\]</span></p>
<p><span class="math display">\[ MPE = \frac{1}{5} \sum_{t = 2016}^{2020}\bigg(\frac{e_t}{p_t}\bigg)\times 100 \]</span></p>
<p><span class="math display">\[ MAPE = \frac{1}{5} \sum_{t = 2016}^{2020}\bigg|\frac{e_t}{p_t}\bigg|\times 100\]</span></p>
<p>For simplicity, we will create a user defined function to achieve our calculations.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="accuracy.html#cb188-1" tabindex="-1"></a>selection <span class="ot">&lt;-</span> <span class="cf">function</span>(actual, forecast){</span>
<span id="cb188-2"><a href="accuracy.html#cb188-2" tabindex="-1"></a>TT <span class="ot">&lt;-</span>   <span class="fu">length</span>(actual)</span>
<span id="cb188-3"><a href="accuracy.html#cb188-3" tabindex="-1"></a>err <span class="ot">&lt;-</span>  actual <span class="sc">-</span> forecast</span>
<span id="cb188-4"><a href="accuracy.html#cb188-4" tabindex="-1"></a>rmse <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((<span class="dv">1</span><span class="sc">/</span>TT) <span class="sc">*</span> <span class="fu">sum</span>(err<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb188-5"><a href="accuracy.html#cb188-5" tabindex="-1"></a>mpe <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">/</span>TT)<span class="sc">*</span> <span class="fu">sum</span>(err<span class="sc">/</span>actual)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb188-6"><a href="accuracy.html#cb188-6" tabindex="-1"></a>mape <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span>TT<span class="sc">*</span><span class="fu">sum</span>(<span class="fu">abs</span>(err<span class="sc">/</span>actual))<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb188-7"><a href="accuracy.html#cb188-7" tabindex="-1"></a><span class="fu">return</span>(<span class="fu">list</span>(<span class="st">&quot;RMSE&quot;</span> <span class="ot">=</span> rmse,</span>
<span id="cb188-8"><a href="accuracy.html#cb188-8" tabindex="-1"></a>            <span class="st">&quot;MPE&quot;</span> <span class="ot">=</span> mpe,</span>
<span id="cb188-9"><a href="accuracy.html#cb188-9" tabindex="-1"></a>            <span class="st">&quot;MAPE&quot;</span> <span class="ot">=</span> mape))</span>
<span id="cb188-10"><a href="accuracy.html#cb188-10" tabindex="-1"></a>}</span></code></pre></div>
<p>We can now use our function to compute the 3 statistics for each model.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="accuracy.html#cb189-1" tabindex="-1"></a>r1 <span class="ot">&lt;-</span> <span class="fu">selection</span>(<span class="at">actual =</span> test[[<span class="st">&quot;price&quot;</span>]], </span>
<span id="cb189-2"><a href="accuracy.html#cb189-2" tabindex="-1"></a>             <span class="at">forecast =</span> f.mod1[[<span class="st">&quot;.mean&quot;</span>]])</span>
<span id="cb189-3"><a href="accuracy.html#cb189-3" tabindex="-1"></a>r2 <span class="ot">&lt;-</span> <span class="fu">selection</span>(<span class="at">actual =</span> test[[<span class="st">&quot;price&quot;</span>]], </span>
<span id="cb189-4"><a href="accuracy.html#cb189-4" tabindex="-1"></a>             <span class="at">forecast =</span> f.mod2[[<span class="st">&quot;.mean&quot;</span>]])</span>
<span id="cb189-5"><a href="accuracy.html#cb189-5" tabindex="-1"></a>r3 <span class="ot">&lt;-</span> <span class="fu">selection</span>(<span class="at">actual =</span> test[[<span class="st">&quot;price&quot;</span>]],</span>
<span id="cb189-6"><a href="accuracy.html#cb189-6" tabindex="-1"></a>             <span class="at">forecast =</span> (forecast5 <span class="sc">%&gt;%</span> </span>
<span id="cb189-7"><a href="accuracy.html#cb189-7" tabindex="-1"></a>               <span class="fu">filter</span>(Scenario<span class="sc">==</span> <span class="st">&quot;weak&quot;</span>))[[<span class="st">&quot;.mean&quot;</span>]])</span>
<span id="cb189-8"><a href="accuracy.html#cb189-8" tabindex="-1"></a>r4 <span class="ot">&lt;-</span> <span class="fu">selection</span>(<span class="at">actual =</span> test[[<span class="st">&quot;price&quot;</span>]],</span>
<span id="cb189-9"><a href="accuracy.html#cb189-9" tabindex="-1"></a>             <span class="at">forecast =</span> (forecast5 <span class="sc">%&gt;%</span> </span>
<span id="cb189-10"><a href="accuracy.html#cb189-10" tabindex="-1"></a>               <span class="fu">filter</span>(Scenario<span class="sc">==</span> <span class="st">&quot;moderate2&quot;</span>))[[<span class="st">&quot;.mean&quot;</span>]])</span>
<span id="cb189-11"><a href="accuracy.html#cb189-11" tabindex="-1"></a>r5 <span class="ot">&lt;-</span> <span class="fu">selection</span>(<span class="at">actual =</span> test[[<span class="st">&quot;price&quot;</span>]],</span>
<span id="cb189-12"><a href="accuracy.html#cb189-12" tabindex="-1"></a>             <span class="at">forecast =</span> (forecast5 <span class="sc">%&gt;%</span> </span>
<span id="cb189-13"><a href="accuracy.html#cb189-13" tabindex="-1"></a>               <span class="fu">filter</span>(Scenario<span class="sc">==</span> <span class="st">&quot;moderate1&quot;</span>))[[<span class="st">&quot;.mean&quot;</span>]])</span>
<span id="cb189-14"><a href="accuracy.html#cb189-14" tabindex="-1"></a>r6 <span class="ot">&lt;-</span> <span class="fu">selection</span>(<span class="at">actual =</span> test[[<span class="st">&quot;price&quot;</span>]],</span>
<span id="cb189-15"><a href="accuracy.html#cb189-15" tabindex="-1"></a>             <span class="at">forecast =</span> (forecast5 <span class="sc">%&gt;%</span> </span>
<span id="cb189-16"><a href="accuracy.html#cb189-16" tabindex="-1"></a>               <span class="fu">filter</span>(Scenario<span class="sc">==</span> <span class="st">&quot;strong&quot;</span>))[[<span class="st">&quot;.mean&quot;</span>]]    </span>
<span id="cb189-17"><a href="accuracy.html#cb189-17" tabindex="-1"></a>             )</span>
<span id="cb189-18"><a href="accuracy.html#cb189-18" tabindex="-1"></a></span>
<span id="cb189-19"><a href="accuracy.html#cb189-19" tabindex="-1"></a><span class="fu">rbind</span>(<span class="st">&quot;Trend&quot;</span> <span class="ot">=</span> r1, </span>
<span id="cb189-20"><a href="accuracy.html#cb189-20" tabindex="-1"></a>      <span class="st">&quot;RW + Drift&quot;</span> <span class="ot">=</span> r2, </span>
<span id="cb189-21"><a href="accuracy.html#cb189-21" tabindex="-1"></a>      <span class="st">&quot;Stocks/Use Weak&quot;</span> <span class="ot">=</span> r3,</span>
<span id="cb189-22"><a href="accuracy.html#cb189-22" tabindex="-1"></a>      <span class="st">&quot;Stocks/Use Moderate2&quot;</span> <span class="ot">=</span> r4,</span>
<span id="cb189-23"><a href="accuracy.html#cb189-23" tabindex="-1"></a>      <span class="st">&quot;Stocks/Use Moderate1&quot;</span> <span class="ot">=</span> r5,</span>
<span id="cb189-24"><a href="accuracy.html#cb189-24" tabindex="-1"></a>      <span class="st">&quot;Stocks/Use Strong&quot;</span> <span class="ot">=</span> r6)</span></code></pre></div>
<pre><code>##                      RMSE      MPE         MAPE    
## Trend                1.359062  -37.44522   37.44522
## RW + Drift           0.342947  -3.904987   8.668624
## Stocks/Use Weak      0.1760026 -0.01884601 3.953331
## Stocks/Use Moderate2 0.5761378 -15.58265   15.58265
## Stocks/Use Moderate1 1.237411  -34.24926   34.24926
## Stocks/Use Strong    2.477306  -68.65396   68.65396</code></pre>
<p>The decision rule requires that, under each test (the column), we choose the model with the statistic value closest to zero. RMSE and MAPE get rid of the sign of error by squaring or taking the absolute value, thus they indicate the average size of forecast error, regardless of direction. MPE however, conserves the sign of error and indicates whether positive and negative errors cancel out (MPE=0, no bias) or dominate (MPE&gt; or &lt;0, under or over-prediction).</p>
<p>From our calculations above, the <strong>Stocks/Use model under a weak-price regime</strong> is preferred by all three model selection criteria. Further analysis of forecast errors may include Theil’s U statistic to compare RMSE and MAPE to a naive forecast alternative and a test of bias to assess whether MPE is significantly different from zero. These various accuracy tests are discussed in Module <a href="outlook.html#outlook">2</a>.</p>
<p>This <a href="files/ABARES%20Accuracy.pdf">publication from ABARES</a> provides additional examples (and measures) of accuracy evaluation for Australian forecasts.</p>

</div>
</div>








<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>For a refresher, please see the <code>ratio</code> variable computed in Section <a href="stocks-use.html#clean-data">6.1.2</a>.<a href="accuracy.html#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="stocks-use.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/shamar-stewart/shamar-stewart.github.io/edit/main/07-module.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
